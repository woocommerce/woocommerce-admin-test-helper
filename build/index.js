!function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=21)}([function(e,t){e.exports=window.wp.element},function(e,t){e.exports=window.regeneratorRuntime},function(e,t){e.exports=window.wp.dataControls},function(e,t){e.exports=window.wp.data},function(e,t){e.exports=window.wp.components},function(e,t,n){var r=n(13),a=n(14),o=n(15),c=n(17);e.exports=function(e,t){return r(e)||a(e,t)||o(e,t)||c()},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=window.wp.compose},function(e,t){function n(e,t,n,r,a,o,c){try{var i=e[o](c),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}e.exports=function(e){return function(){var t=this,r=arguments;return new Promise((function(a,o){var c=e.apply(t,r);function i(e){n(c,a,o,i,s,"next",e)}function s(e){n(c,a,o,i,s,"throw",e)}i(void 0)}))}},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=window.wp.apiFetch},function(e,t){e.exports=window.wp.hooks},function(e,t,n){e.exports=n(18)()},function(e,t){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(e.exports=n=function(e){return typeof e},e.exports.default=e.exports,e.exports.__esModule=!0):(e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.default=e.exports,e.exports.__esModule=!0),n(t)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e){if(Array.isArray(e))return e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],_n=!0,r=!1,a=void 0;try{for(var o,c=e[Symbol.iterator]();!(_n=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);_n=!0);}catch(e){r=!0,a=e}finally{try{_n||null==c.return||c.return()}finally{if(r)throw a}}return n}},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var r=n(16);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";var r=n(19);function a(){}function o(){}o.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,o,c){if(c!==r){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:a};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"addCurrentlyRunning",(function(){return B})),n.d(r,"removeCurrentlyRunning",(function(){return W})),n.d(r,"addMessage",(function(){return Y})),n.d(r,"updateMessage",(function(){return z})),n.d(r,"removeMessage",(function(){return q})),n.d(r,"updateCommandParams",(function(){return H})),n.d(r,"setCronJobs",(function(){return X})),n.d(r,"setDBUpdateVersions",(function(){return $})),n.d(r,"setIsEmailDisabled",(function(){return K})),n.d(r,"triggerWcaInstall",(function(){return Z})),n.d(r,"resetOnboardingWizard",(function(){return ee})),n.d(r,"resetJetpackConnection",(function(){return te})),n.d(r,"enableTrackingDebug",(function(){return ne})),n.d(r,"updateStoreAge",(function(){return re})),n.d(r,"runWcAdminDailyJob",(function(){return ae})),n.d(r,"deleteAllProducts",(function(){return oe})),n.d(r,"runSelectedCronJob",(function(){return ce})),n.d(r,"runSelectedUpdateCallbacks",(function(){return ie})),n.d(r,"runDisableEmail",(function(){return se}));var a={};n.r(a),n.d(a,"getCronJobs",(function(){return me})),n.d(a,"getDBUpdateVersions",(function(){return de})),n.d(a,"getIsEmailDisabled",(function(){return be}));var o={};n.r(o),n.d(o,"getCurrentlyRunning",(function(){return fe})),n.d(o,"getMessages",(function(){return Oe})),n.d(o,"getStatus",(function(){return Ee})),n.d(o,"getCommandParams",(function(){return ge})),n.d(o,"getCronJobs",(function(){return he})),n.d(o,"getIsEmailDisabled",(function(){return ve})),n.d(o,"getDBUpdateVersions",(function(){return je}));var c={};n.r(c),n.d(c,"setOptions",(function(){return Ue})),n.d(c,"setLoadingState",(function(){return Je})),n.d(c,"setOptionForEditing",(function(){return Ve})),n.d(c,"setNotice",(function(){return Ge})),n.d(c,"deleteOption",(function(){return Be})),n.d(c,"saveOption",(function(){return We}));var i={};n.r(i),n.d(i,"getOptions",(function(){return Xe})),n.d(i,"getOptionForEditing",(function(){return $e}));var s={};n.r(s),n.d(s,"getOptions",(function(){return Ke})),n.d(s,"isLoading",(function(){return Qe})),n.d(s,"getOptionForEditing",(function(){return Ze})),n.d(s,"getNotice",(function(){return et}));var u={};n.r(u),n.d(u,"toggleExperiment",(function(){return pt})),n.d(u,"setExperiments",(function(){return mt}));var l={};n.r(l),n.d(l,"getExperiments",(function(){return ft}));var p={};n.r(p),n.d(p,"getExperiments",(function(){return Ot}));var m=n(0),d=n(4),b=n(10),f=n(8),O=n.n(f),E=n(5),g=n.n(E),h=n(1),v=n.n(h),j=n(9),w=n.n(j),x=function(){var e=Object(m.useState)(!1),t=g()(e,2),n=t[0],r=t[1],a=Object(m.useState)(!1),o=g()(a,2),c=o[0],i=o[1],s=Object(m.useState)(!1),u=g()(s,2),l=u[0],p=u[1];function b(){return(b=O()(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),p(!1),i(!1),e.prev=3,e.next=6,w()({path:"/wc-admin-test-helper/admin-notes/delete-all-notes/v1",method:"POST"});case 6:t=e.sent,i(t),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),p(e.t0.message);case 13:r(!1);case 14:case"end":return e.stop()}}),e,null,[[3,10]])})))).apply(this,arguments)}return Object(m.createElement)(m.Fragment,null,Object(m.createElement)("p",null,Object(m.createElement)("strong",null,"Delete all admin notes")),Object(m.createElement)("p",null,"This will delete all notes from the ",Object(m.createElement)("code",null,"wp_wc_admin_notes"),"table, and actions from the ",Object(m.createElement)("code",null,"wp_wc_admin_note_actions"),"table.",Object(m.createElement)("br",null),Object(m.createElement)(d.Button,{onClick:function(){return b.apply(this,arguments)},disabled:n,isPrimary:!0},"Delete all notes"),Object(m.createElement)("br",null),Object(m.createElement)("span",{className:"woocommerce-admin-test-helper__action-status"},n&&"Deleting, please wait.",c&&Object(m.createElement)(m.Fragment,null,"Deleted"," ",Object(m.createElement)("strong",null,c.deleted_note_count)," ","admin notes and"," ",Object(m.createElement)("strong",null,c.deleted_action_count)," ","actions."),l&&Object(m.createElement)(m.Fragment,null,Object(m.createElement)("strong",null,"Error: "),l))))},y=function(){var e=Object(m.useState)(!1),t=g()(e,2),n=t[0],r=t[1],a=Object(m.useState)(!1),o=g()(a,2),c=o[0],i=o[1],s=Object(m.useState)(!1),u=g()(s,2),l=u[0],p=u[1],b=Object(m.useState)("info"),f=g()(b,2),E=f[0],h=f[1],j=Object(m.useState)("plain"),x=g()(j,2),y=x[0],_=x[1];function S(){return(S=O()(v.a.mark((function e(){var t,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r(!0),i(!1),p(!1),t=prompt("Enter the note name")){e.next=7;break}return r(!1),e.abrupt("return");case 7:if(n=prompt("Enter the note title")){e.next=11;break}return r(!1),e.abrupt("return");case 11:return e.prev=11,e.next=14,w()({path:"/wc-admin-test-helper/admin-notes/add-note/v1",method:"POST",data:{name:t,type:E,layout:y,title:n}});case 14:i(!0),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(11),p(e.t0.message);case 20:r(!1);case 21:case"end":return e.stop()}}),e,null,[[11,17]])})))).apply(this,arguments)}return Object(m.createElement)(m.Fragment,null,Object(m.createElement)("p",null,Object(m.createElement)("strong",null,"Add a note")),Object(m.createElement)("div",null,function(){switch(E){case"email":return Object(m.createElement)(m.Fragment,null,"This will add a new ",Object(m.createElement)("strong",null,"email")," note. Enable email insights"," ",Object(m.createElement)("a",{href:"/wp-admin/admin.php?page=wc-settings&tab=email"},"here")," ","and run the cron to send the note by email.");default:return Object(m.createElement)(m.Fragment,null,"This will add a new note. Currently only the note name and title will be used to create the note.")}}(),Object(m.createElement)("br",null),Object(m.createElement)("div",{className:"woocommerce-admin-test-helper__add-notes"},Object(m.createElement)(d.Button,{onClick:function(){return S.apply(this,arguments)},disabled:n,isPrimary:!0},"Add admin note"),Object(m.createElement)(d.SelectControl,{label:"Type",onChange:function(e){h(e),"info"!==e&&_("plain")},labelPosition:"side",options:[{label:"Info",value:"info"},{label:"Update",value:"update"},{label:"Email",value:"email"}],value:E}),Object(m.createElement)(d.SelectControl,{label:"Layout",onChange:function(e){_(e)},labelPosition:"side",options:[{label:"Plain",value:"plain"},{label:"Banner",value:"banner"},{label:"Thumbnail",value:"thumbnail"}],disabled:"info"!==E,value:y})),Object(m.createElement)("br",null),Object(m.createElement)("span",{className:"woocommerce-admin-test-helper__action-status"},n&&"Adding, please wait",c&&"Note added",l&&Object(m.createElement)(m.Fragment,null,Object(m.createElement)("strong",null,"Error:")," ",l))))},_=n(3),S=n(7),D="wc-admin-helper/tools",N="/wc-admin-test-helper",k=[{command:"Trigger WCA Install",description:"This will trigger a WooCommerce Admin install, which usually\n    happens when a new version (or new install) of WooCommerce\n    Admin is installed. Triggering the install manually can\n    run tasks such as removing obsolete admin notes.",action:"triggerWcaInstall"},{command:"Reset Onboarding Wizard",description:"Resets Onboarding Wizard progress.",action:"resetOnboardingWizard"},{command:"Reset Jetpack Connection",description:"Resets Jepack Connection options.",action:"resetJetpackConnection"},{command:"Enable wc-admin Tracking",description:"Enable Tracking Debug mode. You should change your console level to verbose.",action:"enableTrackingDebug"},{command:"Update WC installation timestamp",description:"Updates woocommerce_admin_install_timestamp to a certain date",action:"updateStoreAge"},{command:"Run wc_admin_daily job",description:"Run wc_admin_daily job",action:"runWcAdminDailyJob"},{command:"Delete all products",description:"Delete all products",action:"deleteAllProducts"},{command:"Run a cron job",description:Object(m.createElement)((function(){var e=Object(_.useSelect)((function(e){return{cronList:(0,e(D).getCronJobs)()}})).cronList,t=Object(_.useDispatch)(D).updateCommandParams;return Object(m.createElement)("div",{className:"trigger-cron-job"},e?Object(m.createElement)(d.SelectControl,{label:"Select cron job to run",onChange:function(n){var r=e[n],a=r.hook,o=r.signature;t("runSelectedCronJob",{hook:a,signature:o})},labelPosition:"side",options:Object.keys(e).map((function(e){return{label:e,value:e}}))}):Object(m.createElement)("p",null,"Loading ..."))}),null),action:"runSelectedCronJob"},{command:"Disable WC emails",description:Object(m.createElement)((function(){var e=Object(_.useSelect)((function(e){return{isEmailDisabled:(0,e(D).getIsEmailDisabled)()}})).isEmailDisabled;return Object(m.createElement)("div",{className:"disable-wc-email"},function(){switch(e){case"yes":return"WooCommerce emails are turned off 🔴";case"no":return"WooCommerce emails are turned on 🟢";case"error":return"Error 🙁";default:return"Loading ..."}}())}),null),action:"runDisableEmail"},{command:"Run version update callbacks",description:Object(m.createElement)((function(){var e=Object(_.useSelect)((function(e){return{dbUpdateVersions:(0,e(D).getDBUpdateVersions)()}})).dbUpdateVersions,t=Object(_.useDispatch)(D).updateCommandParams;return Object(m.createElement)("div",{className:"trigger-cron-job"},e?Object(m.createElement)(d.SelectControl,{label:"Select a version to run",onChange:function(e){t("runSelectedUpdateCallbacks",{version:e})},labelPosition:"side",options:e.map((function(e){return{label:e,value:e}})).reverse()}):Object(m.createElement)("p",null,"Loading ..."))}),null),action:"runSelectedUpdateCallbacks"}],T=n(2),P={ADD_CURRENTLY_RUNNING:"ADD_CURRENTLY_RUNNING",REMOVE_CURRENTLY_RUNNING:"REMOVE_CURRENTLY_RUNNING",ADD_MESSAGE:"ADD_MESSAGE",UPDATE_MESSAGE:"UPDATE_MESSAGE",REMOVE_MESSAGE:"REMOVE_MESSAGE",ADD_COMMAND_PARAMS:"ADD_COMMAND_PARAMS",SET_CRON_JOBS:"SET_CRON_JOBS",IS_EMAIL_DISABLED:"IS_EMAIL_DISABLED",SET_DB_UPDATE_VERSIONS:"SET_DB_UPDATE_VERSIONS"},R=v.a.mark(Q),C=v.a.mark(Z),A=v.a.mark(ee),M=v.a.mark(te),I=v.a.mark(ne),F=v.a.mark(re),L=v.a.mark(ae),U=v.a.mark(oe),J=v.a.mark(ce),V=v.a.mark(ie),G=v.a.mark(se);function B(e){return{type:P.ADD_CURRENTLY_RUNNING,command:e}}function W(e){return{type:P.REMOVE_CURRENTLY_RUNNING,command:e}}function Y(e,t){return{type:P.ADD_MESSAGE,source:e,message:t}}function z(e,t,n){return{type:P.ADD_MESSAGE,source:e,message:t,status:n}}function q(e){return{type:P.REMOVE_MESSAGE,source:e}}function H(e,t){return{type:P.ADD_COMMAND_PARAMS,source:e,params:t}}function X(e){return{type:P.SET_CRON_JOBS,cronJobs:e}}function $(e){return{type:P.SET_DB_UPDATE_VERSIONS,versions:e}}function K(e){return{type:P.IS_EMAIL_DISABLED,isEmailDisabled:e}}function Q(e,t){return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,B(e);case 3:return n.next=5,Y(e,"Executing...");case 5:return n.next=7,t();case 7:return n.next=9,W(e);case 9:return n.next=11,z(e,"Successful!");case 11:n.next=19;break;case 13:return n.prev=13,n.t0=n.catch(0),n.next=17,z(e,n.t0.message,"error");case 17:return n.next=19,W(e);case 19:case"end":return n.stop()}}),R,null,[[0,13]])}function Z(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q("Trigger WCA Install",v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(T.apiFetch)({path:N+"/tools/trigger-wca-install/v1",method:"POST"});case 2:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),C)}function ee(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q("Reset Onboarding Wizard",v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=["woocommerce_task_list_tracked_completed_tasks","woocommerce_onboarding_profile","_transient_wc_onboarding_themes"],e.next=3,Object(T.apiFetch)({method:"DELETE",path:"".concat(N,"/options/").concat(t.join(","))});case 3:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),A)}function te(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q("Reset Jetpack Connection",v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(T.apiFetch)({method:"DELETE",path:"".concat(N,"/options/jetpack_options")});case 2:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),M)}function ne(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q("Enable WC Admin Tracking Debug Mode",v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.localStorage.setItem("debug","wc-admin:*");case 1:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),I)}function re(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q("Update Installation timestamp",v.a.mark((function e(){var t,n,r,a,o,c,i,s;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=new Date,n=String(t.getDate()).padStart(2,"0"),r=String(t.getMonth()+1).padStart(2,"0"),a=t.getFullYear(),null===(o=window.prompt("Please enter a date in yyyy/mm/dd format",a+"/"+r+"/"+n))){e.next=11;break}return c=o.split("/"),i=Math.round(new Date(c[0],c[1]-1,c[2]).getTime()/1e3),s={woocommerce_admin_install_timestamp:JSON.parse(i)},e.next=11,Object(T.apiFetch)({method:"POST",path:"/wc-admin/options",headers:{"content-type":"application/json"},body:JSON.stringify(s)});case 11:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),F)}function ae(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q("Run wc_admin_daily job",v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(T.apiFetch)({path:N+"/tools/run-wc-admin-daily/v1",method:"POST"});case 2:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),L)}function oe(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(confirm("Are you sure you want to delete all of the products?")){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Q("Delete all products",v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(T.apiFetch)({path:"".concat(N,"/tools/delete-all-products/v1"),method:"POST"});case 2:case"end":return e.stop()}}),e)})));case 4:case"end":return e.stop()}}),U)}function ce(e){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Q("Run selected cron job",v.a.mark((function t(){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(T.apiFetch)({path:N+"/tools/run-wc-admin-daily/v1",method:"POST",data:e});case 2:case"end":return t.stop()}}),t)})));case 2:case"end":return t.stop()}}),J)}function ie(e){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Q("Run version update callbacks",v.a.mark((function t(){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(T.apiFetch)({path:N+"/tools/trigger-selected-update-callbacks/v1",method:"POST",data:e});case 2:case"end":return t.stop()}}),t)})));case 2:case"end":return t.stop()}}),V)}function se(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q("Disable/Enable WooCommerce emails",v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(T.apiFetch)({path:"".concat(N,"/tools/toggle-emails/v1"),method:"POST"});case 2:return t=e.sent,e.next=5,K(t);case 5:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),G)}var ue=v.a.mark(me),le=v.a.mark(de),pe=v.a.mark(be);function me(){var e,t;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e="".concat(N,"/tools/get-cron-list/v1"),n.prev=1,n.next=4,Object(T.apiFetch)({path:e,method:"GET"});case 4:return t=n.sent,n.next=7,X(t);case 7:n.next=12;break;case 9:throw n.prev=9,n.t0=n.catch(1),new Error(n.t0);case 12:case"end":return n.stop()}}),ue,null,[[1,9]])}function de(){var e,t;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e="".concat(N,"/tools/get-update-versions/v1"),n.prev=1,n.next=4,Object(T.apiFetch)({path:e,method:"GET"});case 4:return t=n.sent,n.next=7,$(t);case 7:n.next=12;break;case 9:throw n.prev=9,n.t0=n.catch(1),new Error(n.t0);case 12:case"end":return n.stop()}}),le,null,[[1,9]])}function be(){var e,t;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e="".concat(N,"/tools/get-email-status/v1"),n.prev=1,n.next=4,Object(T.apiFetch)({path:e,method:"GET"});case 4:return t=n.sent,n.next=7,K(t);case 7:n.next=14;break;case 9:return n.prev=9,n.t0=n.catch(1),n.next=13,K("error");case 13:throw new Error(n.t0);case 14:case"end":return n.stop()}}),pe,null,[[1,9]])}function fe(e){return e.currentlyRunning}function Oe(e){return e.messages}function Ee(e){return e.status}function ge(e){return e.params}function he(e){return e.cronJobs}function ve(e){return e.isEmailDisabled}function je(e){return e.dbUpdateVersions}var we=n(6),xe=n.n(we);function ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(n),!0).forEach((function(t){xe()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Se={currentlyRunning:{},errorMessages:[],cronJobs:!1,isEmailDisabled:"",messages:{},params:[],status:"",dbUpdateVersions:[]};Object(_.registerStore)(D,{actions:r,selectors:o,resolvers:a,controls:T.controls,reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P.ADD_MESSAGE:return t.status||(t.status="info"),_e(_e({},e),{},{messages:_e(_e({},e.messages),{},xe()({},t.source,{message:t.message,status:t.status}))});case P.REMOVE_MESSAGE:var n=_e({},e.messages);return delete n[t.source],_e(_e({},e),{},{messages:n});case P.SET_STATUS:return _e(_e({},e),{},{status:t.status});case P.ADD_CURRENTLY_RUNNING:return _e(_e({},e),{},{currentlyRunning:_e(_e({},e),{},xe()({},t.command,!0))});case P.REMOVE_CURRENTLY_RUNNING:return _e(_e({},e),{},{currentlyRunning:_e(_e({},e),{},xe()({},t.command,!1))});case P.SET_CRON_JOBS:return _e(_e({},e),{},{cronJobs:t.cronJobs});case P.IS_EMAIL_DISABLED:return _e(_e({},e),{},{isEmailDisabled:t.isEmailDisabled});case P.ADD_COMMAND_PARAMS:return _e(_e({},e),{},{params:xe()({},t.source,t.params)});case P.SET_DB_UPDATE_VERSIONS:return _e(_e({},e),{},{dbUpdateVersions:t.versions});default:return e}}});var De=Object(S.compose)(Object(_.withSelect)((function(e){var t=e(D),n=t.getCurrentlyRunning,r=t.getMessages,a=t.getCommandParams;return{currentlyRunningCommands:n(),messages:r(),comandParams:a()}})),Object(_.withDispatch)((function(e){return{actions:function(){return e(D)}}})))((function(e){var t=e.actions,n=e.currentlyRunningCommands,r=e.messages,a=e.comandParams;return t=t(),Object(m.createElement)("div",{id:"wc-admin-test-helper-tools"},Object(m.createElement)("h2",null,"Tools"),Object(m.createElement)("p",null,"This section contains miscellaneous tools."),Object.keys(r).map((function(e){return Object(m.createElement)(d.Notice,{status:r[e].status,key:e,isDismissible:!1},e,": ",r[e].message)})),Object(m.createElement)("table",{className:"tools wp-list-table striped table-view-list widefat"},Object(m.createElement)("thead",null,Object(m.createElement)("tr",null,Object(m.createElement)("th",null,"Command"),Object(m.createElement)("th",null,"Description"),Object(m.createElement)("th",null,"Run"))),Object(m.createElement)("tbody",null,k.map((function(e,r){var o,c=e.action,i=e.command,s=e.description,u=null!==(o=a[c])&&void 0!==o&&o;return Object(m.createElement)("tr",{key:r},Object(m.createElement)("td",{className:"command"},i),Object(m.createElement)("td",null,s),Object(m.createElement)("td",null,Object(m.createElement)(d.Button,{onClick:function(){return t[c](u)},disabled:n[i],isPrimary:!0},"Run")))})))))})),Ne=n(11),ke=n.n(Ne),Te=function(e){var t=Object(m.useState)(e.option.content),n=g()(t,2),r=n[0],a=n[1];return Object(m.useEffect)((function(){a(e.option.content)}),[e.option]),Object(m.createElement)(m.Fragment,null,Object(m.createElement)("textarea",{className:"wca-test-helper-option-editor",value:r,onChange:function(e){a(e.target.value)}}),Object(m.createElement)(d.Button,{className:"wca-test-helper-edit-btn-save",isPrimary:!0,onClick:function(){e.onSave(e.option.name,r)},disabled:!0===e.option.isSaving},e.option.isSaving?"Saving...":"Save"),Object(m.createElement)("div",{className:"clear"}))};Te.propTypes={option:ke.a.object.isRequired,onSave:ke.a.func.isRequired};var Pe=Te,Re="SET_OPTIONS",Ce="SET_OPTION_FOR_EDITING",Ae="SET_IS_LOADING",Me="SET_NOTICE",Ie="DELETE_OPTION",Fe=v.a.mark(Be),Le=v.a.mark(We);function Ue(e){return{type:Re,options:e}}function Je(e){return{type:Ae,isLoading:e}}function Ve(e){return{type:Ce,editingOption:e}}function Ge(e){return{type:Me,notice:e}}function Be(e){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(T.apiFetch)({method:"DELETE",path:"".concat("/wc-admin-test-helper","/options/").concat(e)});case 3:return t.next=5,{type:Ie,optionName:e};case 5:t.next=10;break;case 7:throw t.prev=7,t.t0=t.catch(0),new Error;case 10:case"end":return t.stop()}}),Fe,null,[[0,7]])}function We(e,t){var n;return v.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,(n={})[e]=JSON.parse(t),r.next=5,Object(T.apiFetch)({method:"POST",path:"/wc-admin/options",headers:{"content-type":"application/json"},body:JSON.stringify(n)});case 5:return r.next=7,Ge({status:"success",message:e+" has been saved."});case 7:r.next=14;break;case 9:return r.prev=9,r.t0=r.catch(0),r.next=13,Ge({status:"error",message:"Unable to save "+e});case 13:throw new Error;case 14:case"end":return r.stop()}}),Le,null,[[0,9]])}var Ye=n(12),ze=n.n(Ye),qe=v.a.mark(Xe),He=v.a.mark($e);function Xe(e){var t,n;return v.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t="".concat("/wc-admin-test-helper","/options?"),e&&(t+="search=".concat(e)),r.next=4,Je(!0);case 4:return r.prev=4,r.next=7,Object(T.apiFetch)({path:t});case 7:return n=r.sent,r.next=10,Ue(n);case 10:r.next=15;break;case 12:throw r.prev=12,r.t0=r.catch(4),new Error;case 15:case"end":return r.stop()}}),qe,null,[[4,12]])}function $e(e){var t,n,r,a;return v.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(t={name:"Loading...",content:"",saved:!1},void 0!==e){o.next=3;break}return o.abrupt("return",Ve(t));case 3:return o.next=5,Ve(t);case 5:return n="/wc-admin/options?options="+e,o.prev=6,o.next=9,Object(T.apiFetch)({path:n});case 9:return r=o.sent,a=r[e],"object"===ze()(a)&&(a=JSON.stringify(r[e],null,2)),o.next=14,Ve({name:e,content:a});case 14:o.next=19;break;case 16:throw o.prev=16,o.t0=o.catch(6),new Error(o.t0);case 19:case"end":return o.stop()}}),He,null,[[6,16]])}function Ke(e){return e.options}function Qe(e){return e.isLoading}function Ze(e){return e.editingOption}function et(e){return e.notice}function tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tt(Object(n),!0).forEach((function(t){xe()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var rt={options:[],isLoading:!0,editingOption:{name:null,content:"{}"},notice:{status:"success",message:""}};Object(_.registerStore)("wc-admin-helper/options",{actions:c,selectors:s,resolvers:i,controls:T.controls,reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ce:return nt(nt({},e),{},{editingOption:nt(nt({},e.editingOption),t.editingOption)});case Ae:return nt(nt({},e),{},{isLoading:t.isLoading});case Re:return nt(nt({},e),{},{options:t.options,isLoading:!1});case Me:return nt(nt({},e),{},{notice:nt(nt({},e.notice),t.notice)});case Ie:return nt(nt({},e),{},{options:e.options.filter((function(e){return e.option_name!==t.optionName}))});default:return e}}});var at=Object(S.compose)(Object(_.withSelect)((function(e){var t=e("wc-admin-helper/options"),n=t.getOptions,r=t.getOptionForEditing,a=t.getNotice,o=t.isLoading,c=n(),i=r(),s=a();return{options:c,getOptions:n,isLoading:o(),editingOption:i,getOptionForEditing:r,notice:s}})),Object(_.withDispatch)((function(e){var t=e("wc-admin-helper/options"),n=t.deleteOption,r=t.saveOption,a=t.setNotice;return{deleteOption:n,invalidateResolution:e("core/data").invalidateResolution,saveOption:r,setNotice:a}})))((function(e){var t=e.options,n=e.getOptions,r=e.deleteOption,a=e.isLoading,o=e.invalidateResolution,c=e.getOptionForEditing,i=e.editingOption,s=e.saveOption,u=e.notice,l=e.setNotice,p=Object(m.useState)(!1),b=g()(p,2),f=b[0],O=b[1];return Object(m.createElement)(m.Fragment,null,f&&Object(m.createElement)(d.Modal,{title:i.name,onRequestClose:function(){O(!1)}},Object(m.createElement)(Pe,{option:i,onSave:function(e,t){s(e,t),O(!1)}})),Object(m.createElement)("div",{id:"wc-admin-test-helper-options"},u.message.length>0&&Object(m.createElement)(d.Notice,{status:u.status,onRemove:function(){l({message:""})}},u.message),Object(m.createElement)("form",{onSubmit:function(e){e.preventDefault();var t=e.target.search.value;o("wc-admin-helper/options","getOptions",[t]),n(t)}},Object(m.createElement)("div",{className:"search-box"},Object(m.createElement)("label",{className:"screen-reader-text",htmlFor:"post-search-input"},"Search options:"),Object(m.createElement)("input",{type:"search",name:"search"}),Object(m.createElement)("input",{type:"submit",id:"search-submit",className:"button",value:"Search options"}))),Object(m.createElement)("div",{className:"clear"}),Object(m.createElement)("table",{className:"wp-list-table striped table-view-list widefat"},Object(m.createElement)("thead",null,Object(m.createElement)("tr",null,Object(m.createElement)("td",{className:"manage-column column-thumb",key:0},"I.D"),Object(m.createElement)("td",{className:"manage-column column-thumb",key:1},"Name"),Object(m.createElement)("td",{className:"manage-column column-thumb",key:"optionValue"},"Value"),Object(m.createElement)("td",{className:"manage-column column-thumb align-center",key:2},"Autoload"),Object(m.createElement)("td",{className:"manage-column column-thumb align-center",key:3},"Delete"),Object(m.createElement)("td",{className:"manage-column column-thumb align-center",key:4},"Edit"))),Object(m.createElement)("tbody",null,a?Object(m.createElement)("tr",null,Object(m.createElement)("td",{colSpan:"6",align:"center"},"Loading...")):0===t.length?Object(m.createElement)("tr",null,Object(m.createElement)("td",{colSpan:"6",align:"center"},"No Options Found")):t.map((function(e){var t,n=e.option_id,a=e.option_name,i=e.option_value,s=e.autoload,u=n,l=a,p=(t=i).length>20?t.substring(0,20)+"...":t;return Object(m.createElement)("tr",{key:u},Object(m.createElement)("td",{key:0},u),Object(m.createElement)("td",{key:1},l),Object(m.createElement)("td",{key:"optionValue"},p),Object(m.createElement)("td",{className:"align-center",key:2},s),Object(m.createElement)("td",{className:"align-center",key:3},Object(m.createElement)("button",{className:"button btn-danger",onClick:function(){return function(e){confirm("Are you sure you want to delete this option?")&&r(e)}(l)}},"Delete")),Object(m.createElement)("td",{className:"align-center",key:4},Object(m.createElement)("button",{className:"button btn-primary",onClick:function(){return function(e){o("wc-admin-helper/options","getOptionForEditing",[e]),c(e),O(!0)}(l)}},"Edit")))}))))))})),ot="TOGGLE_EXPERIMENT",ct="SET_EXPERIMENTS",it=v.a.mark(lt),st=v.a.mark(pt);function ut(e,t){var n=JSON.parse(window.localStorage.getItem("explat-experiment--"+e));n.variationName=t,window.localStorage.setItem("explat-experiment--"+e,JSON.stringify(n))}function lt(e,t){var n;return v.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,(n={})["_transient_abtest_variation_"+e]=t,r.next=5,Object(T.apiFetch)({method:"POST",path:"/wc-admin/options",headers:{"content-type":"application/json"},body:JSON.stringify(n)});case 5:r.next=10;break;case 7:throw r.prev=7,r.t0=r.catch(0),new Error;case 10:case"end":return r.stop()}}),it,null,[[0,7]])}function pt(e,t,n){var r;return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(r="control"===t?"treatment":"control","frontend"!==n){a.next=5;break}ut(e,r),a.next=7;break;case 5:return a.next=7,lt(e,r);case 7:return a.abrupt("return",{type:ot,experimentName:e,newVariation:r});case 8:case"end":return a.stop()}}),st)}function mt(e){return{type:ct,experiments:e}}var dt=v.a.mark(ft);function bt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ft(){var e,t;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(T.apiFetch)({path:"".concat("/wc-admin-test-helper","/options?search=_transient_abtest_variation_")});case 3:return e=n.sent,t=e.map((function(e){return{name:e.option_name.replace("_transient_abtest_variation_",""),variation:"control"===e.option_value?"control":"treatment",source:"backend"}})),n.next=7,mt(Object.entries(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bt(Object(n),!0).forEach((function(t){xe()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},window.localStorage)).filter((function(e){return 0===e[0].indexOf("explat-experiment--")})).map((function(e){var t=g()(e,2),n=t[0],r=t[1],a=JSON.parse(r);return{name:n.replace("explat-experiment--",""),variation:a.variationName||"control",source:"frontend"}})).concat(t));case 7:n.next=12;break;case 9:throw n.prev=9,n.t0=n.catch(0),new Error;case 12:case"end":return n.stop()}}),dt,null,[[0,9]])}function Ot(e){return e.experiments}function Et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Et(Object(n),!0).forEach((function(t){xe()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Et(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ht={experiments:[]};Object(_.registerStore)("wc-admin-helper/experiments",{actions:u,selectors:p,resolvers:l,controls:T.controls,reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ot:return gt(gt({},e),{},{experiments:e.experiments.map((function(e){return gt(gt({},e),{},{variation:e.name===t.experimentName?t.newVariation:e.variation})}))});case ct:return gt(gt({},e),{},{experiments:t.experiments});default:return e}}});var vt=Object(S.compose)(Object(_.withSelect)((function(e){return{experiments:(0,e("wc-admin-helper/experiments").getExperiments)()}})),Object(_.withDispatch)((function(e){return{toggleExperiment:e("wc-admin-helper/experiments").toggleExperiment}})))((function(e){var t=e.experiments,n=e.toggleExperiment;return Object(m.createElement)("div",{id:"wc-admin-test-helper-experiments"},Object(m.createElement)("h2",null,"Experiments"),Object(m.createElement)("table",{className:"experiments wp-list-table striped table-view-list widefat"},Object(m.createElement)("thead",null,Object(m.createElement)("tr",null,Object(m.createElement)("th",null,"Experiment"),Object(m.createElement)("th",null,"Variation"),Object(m.createElement)("th",null,"Toggle"))),Object(m.createElement)("tbody",null,t.map((function(e,t){var r=e.name,a=e.variation,o=e.source;return Object(m.createElement)("tr",{key:t},Object(m.createElement)("td",{className:"experiment-name"},r),Object(m.createElement)("td",{align:"center"},a),Object(m.createElement)("td",{align:"center"},Object(m.createElement)(d.Button,{onClick:function(){n(r,a,o)},isPrimary:!0},"Toggle")))})))))})),jt=Object(b.applyFilters)("woocommerce_admin_test_helper_tabs",[{name:"options",title:"Options",content:Object(m.createElement)(at,null)},{name:"admin-notes",title:"Admin notes",content:Object(m.createElement)((function(){return Object(m.createElement)(m.Fragment,null,Object(m.createElement)("h2",null,"Admin notes"),Object(m.createElement)("p",null,"This section contains tools for managing admin notes."),Object(m.createElement)(y,null),Object(m.createElement)(x,null))}),null)},{name:"tools",title:"Tools",content:Object(m.createElement)(De,null)},{name:"experiments",title:"Experiments",content:Object(m.createElement)(vt,null)}]);n(20);var wt=document.getElementById("woocommerce-admin-test-helper-app-root");wt&&Object(m.render)(Object(m.createElement)((function(){return Object(m.createElement)("div",{className:"wrap"},Object(m.createElement)("h1",null,"WooCommerce Admin Test Helper"),Object(m.createElement)(d.TabPanel,{className:"woocommerce-admin-test-helper__main-tab-panel",activeClass:"active-tab",tabs:jt,initialTabName:jt[0].name},(function(e){return Object(m.createElement)(m.Fragment,null,e.content,Object(b.applyFilters)("woocommerce_admin_test_helper_tab_".concat(e.name),[]))})))}),null),wt)}]);