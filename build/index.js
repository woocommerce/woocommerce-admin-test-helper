!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=17)}([function(e,t){e.exports=window.wp.element},function(e,t){e.exports=window.regeneratorRuntime},function(e,t,n){var r=n(11),o=n(12),a=n(13),c=n(15);e.exports=function(e,t){return r(e)||o(e,t)||a(e,t)||c()},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=window.wp.components},function(e,t){function n(e,t,n,r,o,a,c){try{var l=e[a](c),i=l.value}catch(e){return void n(e)}l.done?t(i):Promise.resolve(i).then(r,o)}e.exports=function(e){return function(){var t=this,r=arguments;return new Promise((function(o,a){var c=e.apply(t,r);function l(e){n(c,o,a,l,i,"next",e)}function i(e){n(c,o,a,l,i,"throw",e)}l(void 0)}))}},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=window.wp.apiFetch},function(e,t){e.exports=window.wp.dataControls},function(e,t){e.exports=window.wp.data},function(e,t){e.exports=window.wp.hooks},function(e,t){e.exports=window.wp.compose},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e){if(Array.isArray(e))return e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],_n=!0,r=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(_n=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);_n=!0);}catch(e){r=!0,o=e}finally{try{_n||null==c.return||c.return()}finally{if(r)throw o}}return n}},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var r=n(14);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"setOptions",(function(){return k})),n.d(r,"deleteOptionById",(function(){return P}));var o={};n.r(o),n.d(o,"getOptions",(function(){return A}));var a={};n.r(a),n.d(a,"getOptions",(function(){return N}));var c=n(0),l=n(3),i=n(8),s=n(4),u=n.n(s),m=n(2),p=n.n(m),d=n(1),b=n.n(d),f=n(5),O=n.n(f),j=function(){var e=Object(c.useState)(!1),t=p()(e,2),n=t[0],r=t[1],o=Object(c.useState)(!1),a=p()(o,2),i=a[0],s=a[1],m=Object(c.useState)(!1),d=p()(m,2),f=d[0],j=d[1];function h(){return(h=u()(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),j(!1),s(!1),e.prev=3,e.next=6,O()({path:"/wc-admin-test-helper/admin-notes/delete-all-notes/v1",method:"POST"});case 6:t=e.sent,s(t),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),j(e.t0.message);case 13:r(!1);case 14:case"end":return e.stop()}}),e,null,[[3,10]])})))).apply(this,arguments)}return Object(c.createElement)(c.Fragment,null,Object(c.createElement)("p",null,Object(c.createElement)("strong",null,"Delete all admin notes")),Object(c.createElement)("p",null,"This will delete all notes from the ",Object(c.createElement)("code",null,"wp_wc_admin_notes"),"table, and actions from the ",Object(c.createElement)("code",null,"wp_wc_admin_note_actions"),"table.",Object(c.createElement)("br",null),Object(c.createElement)(l.Button,{onClick:function(){return h.apply(this,arguments)},disabled:n,isPrimary:!0},"Delete all notes"),Object(c.createElement)("br",null),Object(c.createElement)("span",{className:"woocommerce-admin-test-helper__action-status"},n&&"Deleting, please wait.",i&&Object(c.createElement)(c.Fragment,null,"Deleted"," ",Object(c.createElement)("strong",null,i.deleted_note_count)," ","admin notes and"," ",Object(c.createElement)("strong",null,i.deleted_action_count)," ","actions."),f&&Object(c.createElement)(c.Fragment,null,Object(c.createElement)("strong",null,"Error: "),f))))},h=function(){var e=Object(c.useState)(!1),t=p()(e,2),n=t[0],r=t[1],o=Object(c.useState)(!1),a=p()(o,2),i=a[0],s=a[1],m=Object(c.useState)(!1),d=p()(m,2),f=d[0],j=d[1];function h(){return(h=u()(b.a.mark((function e(){var t,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r(!0),s(!1),j(!1),t=prompt("Enter the note name")){e.next=7;break}return r(!1),e.abrupt("return");case 7:if(n=prompt("Enter the note title")){e.next=11;break}return r(!1),e.abrupt("return");case 11:return e.prev=11,e.next=14,O()({path:"/wc-admin-test-helper/admin-notes/add-note/v1",method:"POST",data:{name:t,title:n}});case 14:s(!0),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(11),j(e.t0.message);case 20:r(!1);case 21:case"end":return e.stop()}}),e,null,[[11,17]])})))).apply(this,arguments)}return Object(c.createElement)(c.Fragment,null,Object(c.createElement)("p",null,Object(c.createElement)("strong",null,"Add a note")),Object(c.createElement)("p",null,"This will add a new note. Currently only the note name and title will be used to create the note.",Object(c.createElement)("br",null),Object(c.createElement)(l.Button,{onClick:function(){return h.apply(this,arguments)},disabled:n,isPrimary:!0},"Add admin note"),Object(c.createElement)("br",null),Object(c.createElement)("span",{className:"woocommerce-admin-test-helper__action-status"},n&&"Adding, please wait",i&&"Note added",f&&Object(c.createElement)(c.Fragment,null,Object(c.createElement)("strong",null,"Error:")," ",f))))},w=function(){var e=Object(c.useState)(!1),t=p()(e,2),n=t[0],r=t[1],o=Object(c.useState)(!1),a=p()(o,2),i=a[0],s=a[1],m=Object(c.useState)(!1),d=p()(m,2),f=d[0],j=d[1];function h(){return(h=u()(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(confirm("Are you sure you want to trigger a WCA install?")){e.next=2;break}return e.abrupt("return");case 2:return r(!0),s(!1),j(!1),e.prev=5,e.next=8,O()({path:"/wc-admin-test-helper/tools/trigger-wca-install/v1",method:"POST"});case 8:s(!0),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(5),j(e.t0.message);case 14:r(!1);case 15:case"end":return e.stop()}}),e,null,[[5,11]])})))).apply(this,arguments)}return Object(c.createElement)(c.Fragment,null,Object(c.createElement)("p",null,Object(c.createElement)("strong",null,"Trigger WooCommerce Admin install")),Object(c.createElement)("p",null,"This will trigger a WooCommerce Admin install, which usually happens when a new version (or new install) of WooCommerce Admin is installed. Triggering the install manually can run tasks such as removing obsolete admin notes.",Object(c.createElement)("br",null),Object(c.createElement)(l.Button,{onClick:function(){return h.apply(this,arguments)},disabled:n,isPrimary:!0},"Trigger WCA install"),Object(c.createElement)("div",{className:"woocommerce-admin-test-helper__action-status"},n&&"Running install, please wait",i&&"Install completed",f&&Object(c.createElement)(c.Fragment,null,Object(c.createElement)("strong",null,"Error:")," ",f))))},v=n(7),E=n(9),y="wc-admin-helper/options",g=n(6),x="SET_OPTIONS",_="DELETE_OPTION_BY_ID",S=b.a.mark(P);function k(e){return{type:x,options:e}}function P(e){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(g.apiFetch)({method:"DELETE",path:"".concat("/wc-admin-test-helper","/options/").concat(e)});case 3:return t.next=5,{type:_,optionId:e};case 5:t.next=10;break;case 7:throw t.prev=7,t.t0=t.catch(0),new Error;case 10:case"end":return t.stop()}}),S,null,[[0,7]])}var T=b.a.mark(A);function A(e){var t,n;return b.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t="".concat("/wc-admin-test-helper","/options?"),e&&(t+="search=".concat(e)),r.prev=2,r.next=5,Object(g.apiFetch)({path:t});case 5:return n=r.sent,r.next=8,k(n);case 8:r.next=13;break;case 10:throw r.prev=10,r.t0=r.catch(2),new Error;case 13:case"end":return r.stop()}}),T,null,[[2,10]])}function N(e){return e.options}var F=n(10),D=n.n(F);function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){D()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var M={options:[]};Object(v.registerStore)(y,{actions:r,selectors:a,resolvers:o,controls:g.controls,reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return C(C({},e),{},{options:t.options});case _:return C(C({},e),{},{options:e.options.filter((function(e){return e.option_id!==t.optionId}))});default:return e}}});var B=Object(E.compose)(Object(v.withSelect)((function(e){var t=e(y).getOptions;return{options:t(),getOptions:t}})),Object(v.withDispatch)((function(e){var t=e(y);return{deleteOptionById:t.deleteOptionById,invalidateResolutionForStoreSelector:t.invalidateResolutionForStoreSelector}})))((function(e){var t=e.options,n=e.getOptions,r=e.deleteOptionById,o=e.invalidateResolutionForStoreSelector;return Object(c.createElement)("div",{id:"wc-admin-test-helper-options"},Object(c.createElement)("form",{onSubmit:function(e){e.preventDefault();var t=e.target.search.value;""===t&&(t=void 0),n(t),o("getOptions")}},Object(c.createElement)("div",{className:"search-box"},Object(c.createElement)("label",{className:"screen-reader-text",htmlFor:"post-search-input"},"Search products:"),Object(c.createElement)("input",{type:"search",name:"search"}),Object(c.createElement)("input",{type:"submit",id:"search-submit",className:"button",value:"Search Option"}))),Object(c.createElement)("div",{className:"clear"}),Object(c.createElement)("table",{className:"wp-list-table striped table-view-list widefat"},Object(c.createElement)("thead",null,Object(c.createElement)("tr",null,Object(c.createElement)("td",{className:"manage-column column-thumb",key:0},"I.D"),Object(c.createElement)("td",{className:"manage-column column-thumb",key:1},"Name"),Object(c.createElement)("td",{className:"manage-column column-thumb",key:2},"Autoload"),Object(c.createElement)("td",{className:"manage-column column-thumb",key:3},"Delete"))),Object(c.createElement)("tbody",null,t.map((function(e){var t=e.option_id,n=e.option_name,o=e.autoload,a=t,l=n;return Object(c.createElement)("tr",{key:a},Object(c.createElement)("td",{key:0},a),Object(c.createElement)("td",{key:1},l),Object(c.createElement)("td",{key:2},o),Object(c.createElement)("td",{key:3},Object(c.createElement)("button",{className:"button btn-danger",onClick:function(){return function(e){confirm("Are you sure you want to delete?")&&r(e)}(a)}},"Delete")))})))))})),W=Object(i.applyFilters)("woocommerce_admin_test_helper_tabs",[{name:"options",title:"Options",content:Object(c.createElement)(B,null)},{name:"admin-notes",title:"Admin notes",content:Object(c.createElement)((function(){return Object(c.createElement)(c.Fragment,null,Object(c.createElement)("h2",null,"Admin notes"),Object(c.createElement)("p",null,"This section contains tools for managing admin notes."),Object(c.createElement)(h,null),Object(c.createElement)(j,null))}),null)},{name:"tools",title:"Tools",content:Object(c.createElement)((function(){return Object(c.createElement)(c.Fragment,null,Object(c.createElement)("h2",null,"Tools"),Object(c.createElement)("p",null,"This section contains miscellaneous tools."),Object(c.createElement)(w,null))}),null)}]);n(16);var R=document.getElementById("woocommerce-admin-test-helper-app-root");R&&Object(c.render)(Object(c.createElement)((function(){return Object(c.createElement)("div",{className:"wrap"},Object(c.createElement)("h1",null,"WooCommerce Admin Test Helper"),Object(c.createElement)(l.TabPanel,{className:"woocommerce-admin-test-helper__main-tab-panel",activeClass:"active-tab",tabs:W,initialTabName:W[0].name},(function(e){return Object(c.createElement)(c.Fragment,null,e.content,Object(i.applyFilters)("woocommerce_admin_test_helper_tab_".concat(e.name),[]))})))}),null),R)}]);