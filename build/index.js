!function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=26)}([function(e,t){e.exports=window.wp.element},function(e,t){e.exports=window.regeneratorRuntime},function(e,t){e.exports=window.wp.dataControls},function(e,t){e.exports=window.wp.data},function(e,t){e.exports=window.wp.components},function(e,t,n){var r=n(17),a=n(18),c=n(12),o=n(19);e.exports=function(e,t){return r(e)||a(e,t)||c(e,t)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=window.wp.compose},function(e,t){function n(e,t,n,r,a,c,o){try{var i=e[c](o),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}e.exports=function(e){return function(){var t=this,r=arguments;return new Promise((function(a,c){var o=e.apply(t,r);function i(e){n(o,a,c,i,s,"next",e)}function s(e){n(o,a,c,i,s,"throw",e)}i(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=window.wp.apiFetch},function(e,t){e.exports=window.wp.hooks},function(e,t,n){e.exports=n(20)()},function(e,t,n){var r=n(13);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){function n(t){return e.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,n(t)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=window.wc.data},function(e,t,n){var r=n(22),a=n(23),c=n(12),o=n(24);e.exports=function(e){return r(e)||a(e)||c(e)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,c=[],_n=!0,o=!1;try{for(n=n.call(e);!(_n=(r=n.next()).done)&&(c.push(r.value),!t||c.length!==t);_n=!0);}catch(e){o=!0,a=e}finally{try{_n||null==n.return||n.return()}finally{if(o)throw a}}return c}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";var r=n(21);function a(){}function c(){}c.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,c,o){if(o!==r){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:c,resetWarningCache:a};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){var r=n(13);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"addCurrentlyRunning",(function(){return X})),n.d(r,"removeCurrentlyRunning",(function(){return $})),n.d(r,"addMessage",(function(){return K})),n.d(r,"updateMessage",(function(){return Q})),n.d(r,"removeMessage",(function(){return Z})),n.d(r,"updateCommandParams",(function(){return ee})),n.d(r,"setCronJobs",(function(){return te})),n.d(r,"setDBUpdateVersions",(function(){return ne})),n.d(r,"setIsEmailDisabled",(function(){return re})),n.d(r,"triggerWcaInstall",(function(){return ce})),n.d(r,"resetOnboardingWizard",(function(){return oe})),n.d(r,"resetJetpackConnection",(function(){return ie})),n.d(r,"enableTrackingDebug",(function(){return se})),n.d(r,"updateStoreAge",(function(){return le})),n.d(r,"runWcAdminDailyJob",(function(){return ue})),n.d(r,"deleteAllProducts",(function(){return pe})),n.d(r,"runSelectedCronJob",(function(){return me})),n.d(r,"runSelectedUpdateCallbacks",(function(){return de})),n.d(r,"runDisableEmail",(function(){return be}));var a={};n.r(a),n.d(a,"getCronJobs",(function(){return Ee})),n.d(a,"getDBUpdateVersions",(function(){return he})),n.d(a,"getIsEmailDisabled",(function(){return ve}));var c={};n.r(c),n.d(c,"getCurrentlyRunning",(function(){return je})),n.d(c,"getMessages",(function(){return we})),n.d(c,"getStatus",(function(){return ye})),n.d(c,"getCommandParams",(function(){return xe})),n.d(c,"getCronJobs",(function(){return _e})),n.d(c,"getIsEmailDisabled",(function(){return Se})),n.d(c,"getDBUpdateVersions",(function(){return ke}));var o={};n.r(o),n.d(o,"setOptions",(function(){return Ye})),n.d(o,"setLoadingState",(function(){return qe})),n.d(o,"setOptionForEditing",(function(){return ze})),n.d(o,"setNotice",(function(){return He})),n.d(o,"deleteOption",(function(){return Xe})),n.d(o,"saveOption",(function(){return $e}));var i={};n.r(i),n.d(i,"getOptions",(function(){return tt})),n.d(i,"getOptionForEditing",(function(){return nt}));var s={};n.r(s),n.d(s,"getOptions",(function(){return rt})),n.d(s,"isLoading",(function(){return at})),n.d(s,"getOptionForEditing",(function(){return ct})),n.d(s,"getNotice",(function(){return ot}));var l={};n.r(l),n.d(l,"toggleExperiment",(function(){return Et})),n.d(l,"setExperiments",(function(){return ht}));var u={};n.r(u),n.d(u,"getExperiments",(function(){return wt}));var p={};n.r(p),n.d(p,"getExperiments",(function(){return yt}));var m={};n.r(m),n.d(m,"resetModifiedFeatures",(function(){return Ft})),n.d(m,"toggleFeature",(function(){return Rt})),n.d(m,"setFeatures",(function(){return At})),n.d(m,"setModifiedFeatures",(function(){return Ct}));var d={};n.r(d),n.d(d,"getModifiedFeatures",(function(){return Lt})),n.d(d,"getFeatures",(function(){return Ut}));var b={};n.r(b),n.d(b,"getFeatures",(function(){return Jt})),n.d(b,"getModifiedFeatures",(function(){return Vt}));var f={};n.r(f),n.d(f,"setFilters",(function(){return Zt})),n.d(f,"setLoadingState",(function(){return en})),n.d(f,"toggleFilter",(function(){return tn})),n.d(f,"deleteFilter",(function(){return nn})),n.d(f,"saveFilter",(function(){return rn}));var O={};n.r(O),n.d(O,"getFilters",(function(){return cn}));var g={};n.r(g),n.d(g,"getFilters",(function(){return on})),n.d(g,"isLoading",(function(){return sn}));var E=n(0),h=n(4),v=n(10),j=n(8),w=n.n(j),y=n(5),x=n.n(y),_=n(1),S=n.n(_),k=n(9),N=n.n(k),D=function(){var e=Object(E.useState)(!1),t=x()(e,2),n=t[0],r=t[1],a=Object(E.useState)(!1),c=x()(a,2),o=c[0],i=c[1],s=Object(E.useState)(!1),l=x()(s,2),u=l[0],p=l[1];function m(){return(m=w()(S.a.mark((function e(){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),p(!1),i(!1),e.prev=3,e.next=6,N()({path:"/wc-admin-test-helper/admin-notes/delete-all-notes/v1",method:"POST"});case 6:t=e.sent,i(t),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),p(e.t0.message);case 13:r(!1);case 14:case"end":return e.stop()}}),e,null,[[3,10]])})))).apply(this,arguments)}return Object(E.createElement)(E.Fragment,null,Object(E.createElement)("p",null,Object(E.createElement)("strong",null,"Delete all admin notes")),Object(E.createElement)("p",null,"This will delete all notes from the ",Object(E.createElement)("code",null,"wp_wc_admin_notes"),"table, and actions from the ",Object(E.createElement)("code",null,"wp_wc_admin_note_actions"),"table.",Object(E.createElement)("br",null),Object(E.createElement)(h.Button,{onClick:function(){return m.apply(this,arguments)},disabled:n,isPrimary:!0},"Delete all notes"),Object(E.createElement)("br",null),Object(E.createElement)("span",{className:"woocommerce-admin-test-helper__action-status"},n&&"Deleting, please wait.",o&&Object(E.createElement)(E.Fragment,null,"Deleted"," ",Object(E.createElement)("strong",null,o.deleted_note_count)," ","admin notes and"," ",Object(E.createElement)("strong",null,o.deleted_action_count)," ","actions."),u&&Object(E.createElement)(E.Fragment,null,Object(E.createElement)("strong",null,"Error: "),u))))},T=function(){var e=Object(E.useState)(!1),t=x()(e,2),n=t[0],r=t[1],a=Object(E.useState)(!1),c=x()(a,2),o=c[0],i=c[1],s=Object(E.useState)(!1),l=x()(s,2),u=l[0],p=l[1],m=Object(E.useState)("info"),d=x()(m,2),b=d[0],f=d[1],O=Object(E.useState)("plain"),g=x()(O,2),v=g[0],j=g[1];function y(){return(y=w()(S.a.mark((function e(){var t,n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r(!0),i(!1),p(!1),t=prompt("Enter the note name")){e.next=7;break}return r(!1),e.abrupt("return");case 7:if(n=prompt("Enter the note title")){e.next=11;break}return r(!1),e.abrupt("return");case 11:return e.prev=11,e.next=14,N()({path:"/wc-admin-test-helper/admin-notes/add-note/v1",method:"POST",data:{name:t,type:b,layout:v,title:n}});case 14:i(!0),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(11),p(e.t0.message);case 20:r(!1);case 21:case"end":return e.stop()}}),e,null,[[11,17]])})))).apply(this,arguments)}return Object(E.createElement)(E.Fragment,null,Object(E.createElement)("p",null,Object(E.createElement)("strong",null,"Add a note")),Object(E.createElement)("div",null,function(){switch(b){case"email":return Object(E.createElement)(E.Fragment,null,"This will add a new ",Object(E.createElement)("strong",null,"email")," note. Enable email insights"," ",Object(E.createElement)("a",{href:"/wp-admin/admin.php?page=wc-settings&tab=email"},"here")," ","and run the cron to send the note by email.");default:return Object(E.createElement)(E.Fragment,null,"This will add a new note. Currently only the note name and title will be used to create the note.")}}(),Object(E.createElement)("br",null),Object(E.createElement)("div",{className:"woocommerce-admin-test-helper__add-notes"},Object(E.createElement)(h.Button,{onClick:function(){return y.apply(this,arguments)},disabled:n,isPrimary:!0},"Add admin note"),Object(E.createElement)(h.SelectControl,{label:"Type",onChange:function(e){f(e),"info"!==e&&j("plain")},labelPosition:"side",options:[{label:"Info",value:"info"},{label:"Update",value:"update"},{label:"Email",value:"email"}],value:b}),Object(E.createElement)(h.SelectControl,{label:"Layout",onChange:function(e){j(e)},labelPosition:"side",options:[{label:"Plain",value:"plain"},{label:"Banner",value:"banner"},{label:"Thumbnail",value:"thumbnail"}],disabled:"info"!==b,value:v})),Object(E.createElement)("br",null),Object(E.createElement)("span",{className:"woocommerce-admin-test-helper__action-status"},n&&"Adding, please wait",o&&"Note added",u&&Object(E.createElement)(E.Fragment,null,Object(E.createElement)("strong",null,"Error:")," ",u))))},P=n(3),F=n(7),R="wc-admin-helper/tools",A="/wc-admin-test-helper",C=[{command:"Trigger WCA Install",description:"This will trigger a WooCommerce Admin install, which usually\n    happens when a new version (or new install) of WooCommerce\n    Admin is installed. Triggering the install manually can\n    run tasks such as removing obsolete admin notes.",action:"triggerWcaInstall"},{command:"Reset Onboarding Wizard",description:"Resets Onboarding Wizard progress.",action:"resetOnboardingWizard"},{command:"Reset Jetpack Connection",description:"Resets Jepack Connection options.",action:"resetJetpackConnection"},{command:"Enable wc-admin Tracking",description:"Enable Tracking Debug mode. You should change your console level to verbose.",action:"enableTrackingDebug"},{command:"Update WC installation timestamp",description:"Updates woocommerce_admin_install_timestamp to a certain date",action:"updateStoreAge"},{command:"Run wc_admin_daily job",description:"Run wc_admin_daily job",action:"runWcAdminDailyJob"},{command:"Delete all products",description:"Delete all products",action:"deleteAllProducts"},{command:"Run a cron job",description:Object(E.createElement)((function(){var e=Object(P.useSelect)((function(e){return{cronList:(0,e(R).getCronJobs)()}})).cronList,t=Object(P.useDispatch)(R).updateCommandParams;return Object(E.createElement)("div",{className:"trigger-cron-job"},e?Object(E.createElement)(h.SelectControl,{label:"Select cron job to run",onChange:function(n){var r=e[n],a=r.hook,c=r.signature;t("runSelectedCronJob",{hook:a,signature:c})},labelPosition:"side",options:Object.keys(e).map((function(e){return{label:e,value:e}}))}):Object(E.createElement)("p",null,"Loading ..."))}),null),action:"runSelectedCronJob"},{command:"Disable WC emails",description:Object(E.createElement)((function(){var e=Object(P.useSelect)((function(e){return{isEmailDisabled:(0,e(R).getIsEmailDisabled)()}})).isEmailDisabled;return Object(E.createElement)("div",{className:"disable-wc-email"},function(){switch(e){case"yes":return"WooCommerce emails are turned off 🔴";case"no":return"WooCommerce emails are turned on 🟢";case"error":return"Error 🙁";default:return"Loading ..."}}())}),null),action:"runDisableEmail"},{command:"Run version update callbacks",description:Object(E.createElement)((function(){var e=Object(P.useSelect)((function(e){return{dbUpdateVersions:(0,e(R).getDBUpdateVersions)()}})).dbUpdateVersions,t=Object(P.useDispatch)(R).updateCommandParams;return Object(E.createElement)("div",{className:"trigger-cron-job"},e?Object(E.createElement)(h.SelectControl,{label:"Select a version to run",onChange:function(e){t("runSelectedUpdateCallbacks",{version:e})},labelPosition:"side",options:e.map((function(e){return{label:e,value:e}})).reverse()}):Object(E.createElement)("p",null,"Loading ..."))}),null),action:"runSelectedUpdateCallbacks"}],M=n(2),I={ADD_CURRENTLY_RUNNING:"ADD_CURRENTLY_RUNNING",REMOVE_CURRENTLY_RUNNING:"REMOVE_CURRENTLY_RUNNING",ADD_MESSAGE:"ADD_MESSAGE",UPDATE_MESSAGE:"UPDATE_MESSAGE",REMOVE_MESSAGE:"REMOVE_MESSAGE",ADD_COMMAND_PARAMS:"ADD_COMMAND_PARAMS",SET_CRON_JOBS:"SET_CRON_JOBS",IS_EMAIL_DISABLED:"IS_EMAIL_DISABLED",SET_DB_UPDATE_VERSIONS:"SET_DB_UPDATE_VERSIONS"},L=S.a.mark(ae),U=S.a.mark(ce),J=S.a.mark(oe),V=S.a.mark(ie),G=S.a.mark(se),B=S.a.mark(le),W=S.a.mark(ue),Y=S.a.mark(pe),q=S.a.mark(me),z=S.a.mark(de),H=S.a.mark(be);function X(e){return{type:I.ADD_CURRENTLY_RUNNING,command:e}}function $(e){return{type:I.REMOVE_CURRENTLY_RUNNING,command:e}}function K(e,t){return{type:I.ADD_MESSAGE,source:e,message:t}}function Q(e,t,n){return{type:I.ADD_MESSAGE,source:e,message:t,status:n}}function Z(e){return{type:I.REMOVE_MESSAGE,source:e}}function ee(e,t){return{type:I.ADD_COMMAND_PARAMS,source:e,params:t}}function te(e){return{type:I.SET_CRON_JOBS,cronJobs:e}}function ne(e){return{type:I.SET_DB_UPDATE_VERSIONS,versions:e}}function re(e){return{type:I.IS_EMAIL_DISABLED,isEmailDisabled:e}}function ae(e,t){return S.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,X(e);case 3:return n.next=5,K(e,"Executing...");case 5:return n.next=7,t();case 7:return n.next=9,$(e);case 9:return n.next=11,Q(e,"Successful!");case 11:n.next=19;break;case 13:return n.prev=13,n.t0=n.catch(0),n.next=17,Q(e,n.t0.message,"error");case 17:return n.next=19,$(e);case 19:case"end":return n.stop()}}),L,null,[[0,13]])}function ce(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae("Trigger WCA Install",S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(M.apiFetch)({path:A+"/tools/trigger-wca-install/v1",method:"POST"});case 2:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),U)}function oe(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae("Reset Onboarding Wizard",S.a.mark((function e(){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=["woocommerce_task_list_tracked_completed_tasks","woocommerce_onboarding_profile","_transient_wc_onboarding_themes"],e.next=3,Object(M.apiFetch)({method:"DELETE",path:"".concat(A,"/options/").concat(t.join(","))});case 3:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),J)}function ie(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae("Reset Jetpack Connection",S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(M.apiFetch)({method:"DELETE",path:"".concat(A,"/options/jetpack_options")});case 2:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),V)}function se(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae("Enable WC Admin Tracking Debug Mode",S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.localStorage.setItem("debug","wc-admin:*");case 1:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),G)}function le(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae("Update Installation timestamp",S.a.mark((function e(){var t,n,r,a,c,o,i,s;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=new Date,n=String(t.getDate()).padStart(2,"0"),r=String(t.getMonth()+1).padStart(2,"0"),a=t.getFullYear(),null===(c=window.prompt("Please enter a date in yyyy/mm/dd format",a+"/"+r+"/"+n))){e.next=11;break}return o=c.split("/"),i=Math.round(new Date(o[0],o[1]-1,o[2]).getTime()/1e3),s={woocommerce_admin_install_timestamp:JSON.parse(i)},e.next=11,Object(M.apiFetch)({method:"POST",path:"/wc-admin/options",headers:{"content-type":"application/json"},body:JSON.stringify(s)});case 11:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),B)}function ue(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae("Run wc_admin_daily job",S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(M.apiFetch)({path:A+"/tools/run-wc-admin-daily/v1",method:"POST"});case 2:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),W)}function pe(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(confirm("Are you sure you want to delete all of the products?")){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,ae("Delete all products",S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(M.apiFetch)({path:"".concat(A,"/tools/delete-all-products/v1"),method:"POST"});case 2:case"end":return e.stop()}}),e)})));case 4:case"end":return e.stop()}}),Y)}function me(e){return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae("Run selected cron job",S.a.mark((function t(){return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(M.apiFetch)({path:A+"/tools/run-wc-admin-daily/v1",method:"POST",data:e});case 2:case"end":return t.stop()}}),t)})));case 2:case"end":return t.stop()}}),q)}function de(e){return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae("Run version update callbacks",S.a.mark((function t(){return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(M.apiFetch)({path:A+"/tools/trigger-selected-update-callbacks/v1",method:"POST",data:e});case 2:case"end":return t.stop()}}),t)})));case 2:case"end":return t.stop()}}),z)}function be(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae("Disable/Enable WooCommerce emails",S.a.mark((function e(){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(M.apiFetch)({path:"".concat(A,"/tools/toggle-emails/v1"),method:"POST"});case 2:return t=e.sent,e.next=5,re(t);case 5:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),H)}var fe=S.a.mark(Ee),Oe=S.a.mark(he),ge=S.a.mark(ve);function Ee(){var e,t;return S.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e="".concat(A,"/tools/get-cron-list/v1"),n.prev=1,n.next=4,Object(M.apiFetch)({path:e,method:"GET"});case 4:return t=n.sent,n.next=7,te(t);case 7:n.next=12;break;case 9:throw n.prev=9,n.t0=n.catch(1),new Error(n.t0);case 12:case"end":return n.stop()}}),fe,null,[[1,9]])}function he(){var e,t;return S.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e="".concat(A,"/tools/get-update-versions/v1"),n.prev=1,n.next=4,Object(M.apiFetch)({path:e,method:"GET"});case 4:return t=n.sent,n.next=7,ne(t);case 7:n.next=12;break;case 9:throw n.prev=9,n.t0=n.catch(1),new Error(n.t0);case 12:case"end":return n.stop()}}),Oe,null,[[1,9]])}function ve(){var e,t;return S.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e="".concat(A,"/tools/get-email-status/v1"),n.prev=1,n.next=4,Object(M.apiFetch)({path:e,method:"GET"});case 4:return t=n.sent,n.next=7,re(t);case 7:n.next=14;break;case 9:return n.prev=9,n.t0=n.catch(1),n.next=13,re("error");case 13:throw new Error(n.t0);case 14:case"end":return n.stop()}}),ge,null,[[1,9]])}function je(e){return e.currentlyRunning}function we(e){return e.messages}function ye(e){return e.status}function xe(e){return e.params}function _e(e){return e.cronJobs}function Se(e){return e.isEmailDisabled}function ke(e){return e.dbUpdateVersions}var Ne=n(6),De=n.n(Ne);function Te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Te(Object(n),!0).forEach((function(t){De()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Fe={currentlyRunning:{},errorMessages:[],cronJobs:!1,isEmailDisabled:"",messages:{},params:[],status:"",dbUpdateVersions:[]};Object(P.registerStore)(R,{actions:r,selectors:c,resolvers:a,controls:M.controls,reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I.ADD_MESSAGE:return t.status||(t.status="info"),Pe(Pe({},e),{},{messages:Pe(Pe({},e.messages),{},De()({},t.source,{message:t.message,status:t.status}))});case I.REMOVE_MESSAGE:var n=Pe({},e.messages);return delete n[t.source],Pe(Pe({},e),{},{messages:n});case I.SET_STATUS:return Pe(Pe({},e),{},{status:t.status});case I.ADD_CURRENTLY_RUNNING:return Pe(Pe({},e),{},{currentlyRunning:Pe(Pe({},e),{},De()({},t.command,!0))});case I.REMOVE_CURRENTLY_RUNNING:return Pe(Pe({},e),{},{currentlyRunning:Pe(Pe({},e),{},De()({},t.command,!1))});case I.SET_CRON_JOBS:return Pe(Pe({},e),{},{cronJobs:t.cronJobs});case I.IS_EMAIL_DISABLED:return Pe(Pe({},e),{},{isEmailDisabled:t.isEmailDisabled});case I.ADD_COMMAND_PARAMS:return Pe(Pe({},e),{},{params:De()({},t.source,t.params)});case I.SET_DB_UPDATE_VERSIONS:return Pe(Pe({},e),{},{dbUpdateVersions:t.versions});default:return e}}});var Re=Object(F.compose)(Object(P.withSelect)((function(e){var t=e(R),n=t.getCurrentlyRunning,r=t.getMessages,a=t.getCommandParams;return{currentlyRunningCommands:n(),messages:r(),comandParams:a()}})),Object(P.withDispatch)((function(e){return{actions:function(){return e(R)}}})))((function(e){var t=e.actions,n=e.currentlyRunningCommands,r=e.messages,a=e.comandParams;return t=t(),Object(E.createElement)("div",{id:"wc-admin-test-helper-tools"},Object(E.createElement)("h2",null,"Tools"),Object(E.createElement)("p",null,"This section contains miscellaneous tools."),Object.keys(r).map((function(e){return Object(E.createElement)(h.Notice,{status:r[e].status,key:e,isDismissible:!1},e,": ",r[e].message)})),Object(E.createElement)("table",{className:"tools wp-list-table striped table-view-list widefat"},Object(E.createElement)("thead",null,Object(E.createElement)("tr",null,Object(E.createElement)("th",null,"Command"),Object(E.createElement)("th",null,"Description"),Object(E.createElement)("th",null,"Run"))),Object(E.createElement)("tbody",null,C.map((function(e,r){var c,o=e.action,i=e.command,s=e.description,l=null!==(c=a[o])&&void 0!==c&&c;return Object(E.createElement)("tr",{key:r},Object(E.createElement)("td",{className:"command"},i),Object(E.createElement)("td",null,s),Object(E.createElement)("td",null,Object(E.createElement)(h.Button,{onClick:function(){return t[o](l)},disabled:n[i],isPrimary:!0},"Run")))})))))})),Ae=n(11),Ce=n.n(Ae),Me=function(e){var t=Object(E.useState)(e.option.content),n=x()(t,2),r=n[0],a=n[1];return Object(E.useEffect)((function(){a(e.option.content)}),[e.option]),Object(E.createElement)(E.Fragment,null,Object(E.createElement)("textarea",{className:"wca-test-helper-option-editor",value:r,onChange:function(e){a(e.target.value)}}),Object(E.createElement)(h.Button,{className:"wca-test-helper-edit-btn-save",isPrimary:!0,onClick:function(){e.onSave(e.option.name,r)},disabled:!0===e.option.isSaving},e.option.isSaving?"Saving...":"Save"),Object(E.createElement)("div",{className:"clear"}))};Me.propTypes={option:Ce.a.object.isRequired,onSave:Ce.a.func.isRequired};var Ie=Me,Le="SET_OPTIONS",Ue="SET_OPTION_FOR_EDITING",Je="SET_IS_LOADING",Ve="SET_NOTICE",Ge="DELETE_OPTION",Be=S.a.mark(Xe),We=S.a.mark($e);function Ye(e){return{type:Le,options:e}}function qe(e){return{type:Je,isLoading:e}}function ze(e){return{type:Ue,editingOption:e}}function He(e){return{type:Ve,notice:e}}function Xe(e){return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(M.apiFetch)({method:"DELETE",path:"".concat("/wc-admin-test-helper","/options/").concat(e)});case 3:return t.next=5,{type:Ge,optionName:e};case 5:t.next=10;break;case 7:throw t.prev=7,t.t0=t.catch(0),new Error;case 10:case"end":return t.stop()}}),Be,null,[[0,7]])}function $e(e,t){var n;return S.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,(n={})[e]=JSON.parse(t),r.next=5,Object(M.apiFetch)({method:"POST",path:"/wc-admin/options",headers:{"content-type":"application/json"},body:JSON.stringify(n)});case 5:return r.next=7,He({status:"success",message:e+" has been saved."});case 7:r.next=14;break;case 9:return r.prev=9,r.t0=r.catch(0),r.next=13,He({status:"error",message:"Unable to save "+e});case 13:throw new Error;case 14:case"end":return r.stop()}}),We,null,[[0,9]])}var Ke=n(14),Qe=n.n(Ke),Ze=S.a.mark(tt),et=S.a.mark(nt);function tt(e){var t,n;return S.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t="".concat("/wc-admin-test-helper","/options?"),e&&(t+="search=".concat(e)),r.next=4,qe(!0);case 4:return r.prev=4,r.next=7,Object(M.apiFetch)({path:t});case 7:return n=r.sent,r.next=10,Ye(n);case 10:r.next=15;break;case 12:throw r.prev=12,r.t0=r.catch(4),new Error;case 15:case"end":return r.stop()}}),Ze,null,[[4,12]])}function nt(e){var t,n,r,a;return S.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(t={name:"Loading...",content:"",saved:!1},void 0!==e){c.next=3;break}return c.abrupt("return",ze(t));case 3:return c.next=5,ze(t);case 5:return n="/wc-admin/options?options="+e,c.prev=6,c.next=9,Object(M.apiFetch)({path:n});case 9:return r=c.sent,a=r[e],"object"===Qe()(a)&&(a=JSON.stringify(r[e],null,2)),c.next=14,ze({name:e,content:a});case 14:c.next=19;break;case 16:throw c.prev=16,c.t0=c.catch(6),new Error(c.t0);case 19:case"end":return c.stop()}}),et,null,[[6,16]])}function rt(e){return e.options}function at(e){return e.isLoading}function ct(e){return e.editingOption}function ot(e){return e.notice}function it(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function st(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?it(Object(n),!0).forEach((function(t){De()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):it(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var lt={options:[],isLoading:!0,editingOption:{name:null,content:"{}"},notice:{status:"success",message:""}};Object(P.registerStore)("wc-admin-helper/options",{actions:o,selectors:s,resolvers:i,controls:M.controls,reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ue:return st(st({},e),{},{editingOption:st(st({},e.editingOption),t.editingOption)});case Je:return st(st({},e),{},{isLoading:t.isLoading});case Le:return st(st({},e),{},{options:t.options,isLoading:!1});case Ve:return st(st({},e),{},{notice:st(st({},e.notice),t.notice)});case Ge:return st(st({},e),{},{options:e.options.filter((function(e){return e.option_name!==t.optionName}))});default:return e}}});var ut=Object(F.compose)(Object(P.withSelect)((function(e){var t=e("wc-admin-helper/options"),n=t.getOptions,r=t.getOptionForEditing,a=t.getNotice,c=t.isLoading,o=n(),i=r(),s=a();return{options:o,getOptions:n,isLoading:c(),editingOption:i,getOptionForEditing:r,notice:s}})),Object(P.withDispatch)((function(e){var t=e("wc-admin-helper/options"),n=t.deleteOption,r=t.saveOption,a=t.setNotice;return{deleteOption:n,invalidateResolution:e("core/data").invalidateResolution,saveOption:r,setNotice:a}})))((function(e){var t=e.options,n=e.getOptions,r=e.deleteOption,a=e.isLoading,c=e.invalidateResolution,o=e.getOptionForEditing,i=e.editingOption,s=e.saveOption,l=e.notice,u=e.setNotice,p=Object(E.useState)(!1),m=x()(p,2),d=m[0],b=m[1];return Object(E.createElement)(E.Fragment,null,d&&Object(E.createElement)(h.Modal,{title:i.name,onRequestClose:function(){b(!1)}},Object(E.createElement)(Ie,{option:i,onSave:function(e,t){s(e,t),b(!1)}})),Object(E.createElement)("div",{id:"wc-admin-test-helper-options"},l.message.length>0&&Object(E.createElement)(h.Notice,{status:l.status,onRemove:function(){u({message:""})}},l.message),Object(E.createElement)("form",{onSubmit:function(e){e.preventDefault();var t=e.target.search.value;c("wc-admin-helper/options","getOptions",[t]),n(t)}},Object(E.createElement)("div",{className:"search-box"},Object(E.createElement)("label",{className:"screen-reader-text",htmlFor:"post-search-input"},"Search options:"),Object(E.createElement)("input",{type:"search",name:"search"}),Object(E.createElement)("input",{type:"submit",id:"search-submit",className:"button",value:"Search options"}))),Object(E.createElement)("div",{className:"clear"}),Object(E.createElement)("table",{className:"wp-list-table striped table-view-list widefat"},Object(E.createElement)("thead",null,Object(E.createElement)("tr",null,Object(E.createElement)("td",{className:"manage-column column-thumb",key:0},"I.D"),Object(E.createElement)("td",{className:"manage-column column-thumb",key:1},"Name"),Object(E.createElement)("td",{className:"manage-column column-thumb",key:"optionValue"},"Value"),Object(E.createElement)("td",{className:"manage-column column-thumb align-center",key:2},"Autoload"),Object(E.createElement)("td",{className:"manage-column column-thumb align-center",key:3},"Delete"),Object(E.createElement)("td",{className:"manage-column column-thumb align-center",key:4},"Edit"))),Object(E.createElement)("tbody",null,a?Object(E.createElement)("tr",null,Object(E.createElement)("td",{colSpan:"6",align:"center"},"Loading...")):0===t.length?Object(E.createElement)("tr",null,Object(E.createElement)("td",{colSpan:"6",align:"center"},"No Options Found")):t.map((function(e){var t,n=e.option_id,a=e.option_name,i=e.option_value,s=e.autoload,l=n,u=a,p=(t=i).length>20?t.substring(0,20)+"...":t;return Object(E.createElement)("tr",{key:l},Object(E.createElement)("td",{key:0},l),Object(E.createElement)("td",{key:1},u),Object(E.createElement)("td",{key:"optionValue"},p),Object(E.createElement)("td",{className:"align-center",key:2},s),Object(E.createElement)("td",{className:"align-center",key:3},Object(E.createElement)("button",{className:"button btn-danger",onClick:function(){return function(e){confirm("Are you sure you want to delete this option?")&&r(e)}(u)}},"Delete")),Object(E.createElement)("td",{className:"align-center",key:4},Object(E.createElement)("button",{className:"button btn-primary",onClick:function(){return function(e){c("wc-admin-helper/options","getOptionForEditing",[e]),o(e),b(!0)}(u)}},"Edit")))}))))))})),pt=n(15),mt="TOGGLE_EXPERIMENT",dt="SET_EXPERIMENTS",bt=S.a.mark(gt),ft=S.a.mark(Et);function Ot(e,t){var n=JSON.parse(window.localStorage.getItem("explat-experiment--"+e));n.variationName=t,window.localStorage.setItem("explat-experiment--"+e,JSON.stringify(n))}function gt(e,t){var n;return S.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,(n={})["_transient_abtest_variation_"+e]=t,r.next=5,Object(M.apiFetch)({method:"POST",path:"/wc-admin/options",headers:{"content-type":"application/json"},body:JSON.stringify(n)});case 5:r.next=10;break;case 7:throw r.prev=7,r.t0=r.catch(0),new Error;case 10:case"end":return r.stop()}}),bt,null,[[0,7]])}function Et(e,t,n){var r;return S.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(r="control"===t?"treatment":"control","frontend"!==n){a.next=5;break}Ot(e,r),a.next=7;break;case 5:return a.next=7,gt(e,r);case 7:return a.abrupt("return",{type:mt,experimentName:e,newVariation:r,source:n});case 8:case"end":return a.stop()}}),ft)}function ht(e){return{type:dt,experiments:e}}var vt=S.a.mark(wt);function jt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wt(){var e,t;return S.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(M.apiFetch)({path:"".concat("/wc-admin-test-helper","/options?search=_transient_abtest_variation_")});case 3:return e=n.sent,t=e.map((function(e){return{name:e.option_name.replace("_transient_abtest_variation_",""),variation:"control"===e.option_value?"control":"treatment",source:"backend"}})),n.next=7,ht(Object.entries(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jt(Object(n),!0).forEach((function(t){De()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},window.localStorage)).filter((function(e){return 0===e[0].indexOf("explat-experiment--")})).map((function(e){var t=x()(e,2),n=t[0],r=t[1],a=JSON.parse(r);return{name:n.replace("explat-experiment--",""),variation:a.variationName||"control",source:"frontend"}})).concat(t));case 7:n.next=12;break;case 9:throw n.prev=9,n.t0=n.catch(0),new Error;case 12:case"end":return n.stop()}}),vt,null,[[0,9]])}function yt(e){return e.experiments}function xt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _t(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xt(Object(n),!0).forEach((function(t){De()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var St={experiments:[]};Object(P.registerStore)("wc-admin-helper/experiments",{actions:l,selectors:p,resolvers:u,controls:M.controls,reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:St,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case mt:return _t(_t({},e),{},{experiments:e.experiments.map((function(e){return _t(_t({},e),{},{variation:e.name===t.experimentName&&e.source===t.source?t.newVariation:e.variation})}))});case dt:return _t(_t({},e),{},{experiments:t.experiments});default:return e}}});var kt=Object(F.compose)(Object(P.withSelect)((function(e){var t=e("wc-admin-helper/experiments").getExperiments,n=e(pt.OPTIONS_STORE_NAME),r=n.getOption,a=n.isResolving;return{experiments:t(),isTrackingEnabled:r("woocommerce_allow_tracking"),isResolving:a("getOption",["getExperiments"])}})),Object(P.withDispatch)((function(e){return{toggleExperiment:e("wc-admin-helper/experiments").toggleExperiment}})))((function(e){var t=e.experiments,n=e.toggleExperiment,r=e.isTrackingEnabled;return e.isResolving?null:Object(E.createElement)("div",{id:"wc-admin-test-helper-experiments"},Object(E.createElement)("h2",null,"Experiments"),"no"===r&&Object(E.createElement)("p",{className:"tracking-disabled"},"The following list might not be complete without tracking enabled. ",Object(E.createElement)("br",null),"Please visit ",Object(E.createElement)("a",{target:"_blank",href:wcSettings.adminUrl+"/admin.php?page=wc-settings&tab=advanced&section=woocommerce_com",rel:"noreferrer"},"WooCommerce → Settings → Advanced → Woocommerce.com")," and check"," ",Object(E.createElement)("b",null,"Allow usage of WooCommerce to be tracked"),"."),Object(E.createElement)("table",{className:"experiments wp-list-table striped table-view-list widefat"},Object(E.createElement)("thead",null,Object(E.createElement)("tr",null,Object(E.createElement)("th",null,"Experiment"),Object(E.createElement)("th",null,"Variation"),Object(E.createElement)("th",null,"Source"),Object(E.createElement)("th",null,"Toggle"))),Object(E.createElement)("tbody",null,t.map((function(e,t){var r=e.name,a=e.variation,c=e.source;return Object(E.createElement)("tr",{key:t},Object(E.createElement)("td",{className:"experiment-name"},r),Object(E.createElement)("td",{align:"center"},a),Object(E.createElement)("td",{align:"center"},c),Object(E.createElement)("td",{align:"center"},Object(E.createElement)(h.Button,{onClick:function(){n(r,a,c)},isPrimary:!0},"Toggle")))})))))})),Nt="SET_FEATURES",Dt="SET_MODIFIED_FEATURES",Tt=S.a.mark(Ft),Pt=S.a.mark(Rt);function Ft(){var e;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(M.apiFetch)({path:"".concat("/wc-admin-test-helper","/features/reset"),method:"POST"});case 3:return e=t.sent,t.next=6,Ct([]);case 6:return t.next=8,At(e);case 8:t.next=13;break;case 10:throw t.prev=10,t.t0=t.catch(0),new Error;case 13:case"end":return t.stop()}}),Tt,null,[[0,10]])}function Rt(e){var t;return S.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(M.apiFetch)({method:"POST",path:"/wc-admin-test-helper/features/"+e+"/toggle",headers:{"content-type":"application/json"}});case 3:return t=n.sent,n.next=6,At(t);case 6:return n.next=8,P.controls.dispatch("wc-admin-helper/features","invalidateResolutionForStoreSelector","getModifiedFeatures");case 8:n.next=13;break;case 10:throw n.prev=10,n.t0=n.catch(0),new Error;case 13:case"end":return n.stop()}}),Pt,null,[[0,10]])}function At(e){return{type:Nt,features:e}}function Ct(e){return{type:Dt,modifiedFeatures:e}}var Mt=S.a.mark(Lt),It=S.a.mark(Ut);function Lt(){var e;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(M.apiFetch)({path:"wc-admin/options?options=wc_admin_helper_feature_values"});case 3:return e=t.sent,t.next=6,Ct(e&&e.wc_admin_helper_feature_values?Object.keys(e.wc_admin_helper_feature_values):[]);case 6:t.next=11;break;case 8:throw t.prev=8,t.t0=t.catch(0),new Error;case 11:case"end":return t.stop()}}),Mt,null,[[0,8]])}function Ut(){var e;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(M.apiFetch)({path:"".concat("/wc-admin-test-helper","/features")});case 3:return e=t.sent,t.next=6,At(e);case 6:t.next=11;break;case 8:throw t.prev=8,t.t0=t.catch(0),new Error;case 11:case"end":return t.stop()}}),It,null,[[0,8]])}function Jt(e){return e.features}function Vt(e){return e.modifiedFeatures}function Gt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gt(Object(n),!0).forEach((function(t){De()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Wt={features:{},modifiedFeatures:[]};Object(P.registerStore)("wc-admin-helper/features",{actions:m,selectors:b,resolvers:d,controls:M.controls,reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Dt:return Bt(Bt({},e),{},{modifiedFeatures:t.modifiedFeatures});case Nt:return Bt(Bt({},e),{},{features:t.features});default:return e}}});var Yt="SET_FILTERS",qt="SET_IS_LOADING",zt="DELETE_FILTER",Ht="SAVE_FILTER",Xt="TOGGLE_FILTER",$t=S.a.mark(tn),Kt=S.a.mark(nn),Qt=S.a.mark(rn);function Zt(e){return{type:Yt,filters:e}}function en(e){return{type:qt,isLoading:e}}function tn(e){return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(M.apiFetch)({method:"POST",path:"".concat("/wc-admin-test-helper","/rest-api-filters/").concat(e,"/toggle"),headers:{"content-type":"application/json"}});case 3:return t.next=5,{type:Xt,index:e};case 5:t.next=10;break;case 7:throw t.prev=7,t.t0=t.catch(0),new Error;case 10:case"end":return t.stop()}}),$t,null,[[0,7]])}function nn(e){return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(M.apiFetch)({method:"DELETE",path:"".concat("/wc-admin-test-helper","/rest-api-filters/"),headers:{"content-type":"application/json"},body:JSON.stringify({index:e})});case 3:return t.next=5,{type:zt,index:e};case 5:t.next=10;break;case 7:throw t.prev=7,t.t0=t.catch(0),new Error;case 10:case"end":return t.stop()}}),Kt,null,[[0,7]])}function rn(e,t,n){return S.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(M.apiFetch)({method:"POST",path:"/wc-admin-test-helper/rest-api-filters",headers:{"content-type":"application/json"},body:JSON.stringify({endpoint:e,dot_notation:t,replacement:n})});case 3:return r.next=5,{type:Ht,filter:{endpoint:e,dot_notation:t,replacement:n,enabled:!0}};case 5:r.next=10;break;case 7:throw r.prev=7,r.t0=r.catch(0),new Error;case 10:case"end":return r.stop()}}),Qt,null,[[0,7]])}var an=S.a.mark(cn);function cn(){var e,t;return S.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e="/wc-admin/options?options=wc-admin-test-helper-rest-api-filters",n.next=3,en(!0);case 3:return n.prev=3,n.next=6,Object(M.apiFetch)({path:e});case 6:if(!1!==(t=n.sent)["wc-admin-test-helper-rest-api-filters"]){n.next=12;break}return n.next=10,Zt([]);case 10:n.next=14;break;case 12:return n.next=14,Zt(t["wc-admin-test-helper-rest-api-filters"]);case 14:n.next=19;break;case 16:throw n.prev=16,n.t0=n.catch(3),new Error;case 19:case"end":return n.stop()}}),an,null,[[3,16]])}function on(e){return e.filters}function sn(e){return e.isLoading}var ln=n(16),un=n.n(ln);function pn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pn(Object(n),!0).forEach((function(t){De()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var dn={filters:[],isLoading:!0,notice:{status:"success",message:""}};Object(P.registerStore)("wc-admin-helper/rest-api-filters",{actions:f,selectors:g,resolvers:O,controls:M.controls,reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Xt:return mn(mn({},e),{},{filters:e.filters.map((function(e,n){return n===t.index&&(e.enabled=!e.enabled),e}))});case qt:return mn(mn({},e),{},{isLoading:t.isLoading});case Yt:return mn(mn({},e),{},{filters:t.filters,isLoading:!1});case zt:return mn(mn({},e),{},{filters:e.filters.filter((function(e,n){return n!==t.index}))});case Ht:return mn(mn({},e),{},{filters:[].concat(un()(e.filters),[t.filter])});default:return e}}});var bn=Object(F.compose)(Object(P.withSelect)((function(e){var t=e("wc-admin-helper/rest-api-filters"),n=t.getFilters,r=t.isLoading;return{filters:n(),isLoading:r()}})),Object(P.withDispatch)((function(e){var t=e("wc-admin-helper/rest-api-filters");return{saveFilter:t.saveFilter,deleteFilter:t.deleteFilter,toggleFilter:t.toggleFilter}})))((function(e){var t=e.filters,n=e.deleteFilter,r=e.isLoading,a=e.saveFilter,c=e.toggleFilter,o=Object(E.useState)(!1),i=x()(o,2),s=i[0],l=i[1];return Object(E.createElement)(E.Fragment,null,s&&Object(E.createElement)(h.Modal,{title:"New Filter",onRequestClose:function(){l(!1)}},Object(E.createElement)("form",{className:"rest-api-filter-new-form",onSubmit:function(e){e.preventDefault(),a(e.target.endpoint.value,e.target.dotNotation.value,e.target.replacement.value),l(!1)}},Object(E.createElement)("div",{className:"grid"},Object(E.createElement)("label",{htmlFor:"endpoint"},"Endpoint"),Object(E.createElement)("input",{type:"text",name:"endpoint",autoFocus:!0}),Object(E.createElement)("label",{htmlFor:"jsonPath"},"Dot Notation"),Object(E.createElement)("input",{type:"text",name:"dotNotation"}),Object(E.createElement)("label",{htmlFor:"replacement"},"Replacement "),Object(E.createElement)("input",{type:"text",name:"replacement"})),Object(E.createElement)("input",{type:"submit",value:"Create New Filter",className:"button btn-new"}))),Object(E.createElement)("div",{id:"wc-admin-test-helper-rest-api-filters"},Object(E.createElement)("input",{type:"button",className:"button btn-primary btn-new",value:"New Filter",onClick:function(){return l(!0)}}),Object(E.createElement)("br",null),Object(E.createElement)("br",null),Object(E.createElement)("table",{className:"wp-list-table striped table-view-list widefat"},Object(E.createElement)("thead",null,Object(E.createElement)("tr",null,Object(E.createElement)("td",{className:"manage-column column-thumb"},"I.D"),Object(E.createElement)("td",{className:"manage-column column-thumb"},"Endpoint"),Object(E.createElement)("td",{className:"manage-column column-thumb"},"Dot Notation"),Object(E.createElement)("td",{className:"manage-column column-thumb align-center"},"Replacement"),Object(E.createElement)("td",{className:"manage-column column-thumb align-center"},"Enabled"),Object(E.createElement)("td",{className:"manage-column column-thumb align-center"},"Toggle"),Object(E.createElement)("td",{className:"manage-column column-thumb align-center"}))),Object(E.createElement)("tbody",null,r?Object(E.createElement)("tr",null,Object(E.createElement)("td",{colSpan:"6",align:"center"},"Loading...")):0===t.length?Object(E.createElement)("tr",null,Object(E.createElement)("td",{colSpan:"7",align:"center"},"No Filters Found")):t.map((function(e,t){var r=e.endpoint,a=e.dot_notation,o=e.replacement,i=e.enabled;return Object(E.createElement)("tr",{key:t},Object(E.createElement)("td",null,t+1),Object(E.createElement)("td",null,r),Object(E.createElement)("td",{key:"optionValue"},a),Object(E.createElement)("td",{className:"align-center"},o+""),Object(E.createElement)("td",{className:"align-center"},i+""),Object(E.createElement)("td",{className:"align-center"},Object(E.createElement)("button",{className:"button btn-primary",onClick:function(){return c(t)}},"Toggle")),Object(E.createElement)("td",{className:"align-center"},Object(E.createElement)("button",{className:"button btn-danger",onClick:function(){return n(t)}},"Delete")))}))))))})),fn=Object(v.applyFilters)("woocommerce_admin_test_helper_tabs",[{name:"options",title:"Options",content:Object(E.createElement)(ut,null)},{name:"admin-notes",title:"Admin notes",content:Object(E.createElement)((function(){return Object(E.createElement)(E.Fragment,null,Object(E.createElement)("h2",null,"Admin notes"),Object(E.createElement)("p",null,"This section contains tools for managing admin notes."),Object(E.createElement)(T,null),Object(E.createElement)(D,null))}),null)},{name:"tools",title:"Tools",content:Object(E.createElement)(Re,null)},{name:"experiments",title:"Experiments",content:Object(E.createElement)(kt,null)},{name:"features",title:"Features",content:Object(E.createElement)((function(){var e=Object(P.useSelect)((function(e){var t=e("wc-admin-helper/features"),n=t.getFeatures,r=t.getModifiedFeatures;return{features:n(),modifiedFeatures:r()}})),t=e.features,n=void 0===t?{}:t,r=e.modifiedFeatures,a=void 0===r?[]:r,c=Object(P.useDispatch)("wc-admin-helper/features"),o=c.toggleFeature,i=c.resetModifiedFeatures;return Object(E.createElement)("div",{id:"wc-admin-test-helper-features"},Object(E.createElement)("h2",null,"Features",Object(E.createElement)(h.Button,{disabled:0===a.length,onClick:function(){return i()},isSecondary:!0,style:{marginLeft:"24px"}},"Reset to defaults")),Object(E.createElement)("table",{className:"features wp-list-table striped table-view-list widefat"},Object(E.createElement)("thead",null,Object(E.createElement)("tr",null,Object(E.createElement)("th",null,"Feature Name"),Object(E.createElement)("th",null,"Enabled?"),Object(E.createElement)("th",null,"Toggle"))),Object(E.createElement)("tbody",null,Object.keys(n).map((function(e){return Object(E.createElement)("tr",{key:e},Object(E.createElement)("td",{className:"feature-name"},e),Object(E.createElement)("td",null,n[e].toString()),Object(E.createElement)("td",null,Object(E.createElement)(h.Button,{onClick:function(){o(e)},isPrimary:!0},"Toggle")))})))))}),null)},{name:"rest-api-filters",title:"REST API FIlters",content:Object(E.createElement)(bn,null)}]);n(25);var On=document.getElementById("woocommerce-admin-test-helper-app-root");On&&Object(E.render)(Object(E.createElement)((function(){return Object(E.createElement)("div",{className:"wrap"},Object(E.createElement)("h1",null,"WooCommerce Admin Test Helper"),Object(E.createElement)(h.TabPanel,{className:"woocommerce-admin-test-helper__main-tab-panel",activeClass:"active-tab",tabs:fn,initialTabName:fn[0].name},(function(e){return Object(E.createElement)(E.Fragment,null,e.content,Object(v.applyFilters)("woocommerce_admin_test_helper_tab_".concat(e.name),[]))})))}),null),On)}]);